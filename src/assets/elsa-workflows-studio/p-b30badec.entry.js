import{r as e,h as s,H as a}from"./p-d44d1ddb.js";import{l,e as t}from"./p-fd4270fe.js";import{l as i}from"./p-6a489817.js";import"./p-25ed19bb.js";import{a as r}from"./p-bdae1cb5.js";import"./p-4bdcf3f8.js";import{T as o}from"./p-151ebb97.js";import"./p-80de33dc.js";import"./p-e47f7c7d.js";import"./p-f90ae5bc.js";import"./p-a3b5bd35.js";import"./p-d17a08e5.js";import"./p-83f217d4.js";const n={en:{default:{Name:"Name",Untitled:"Untitled",Id:"Id",Version:"Latest Version",PublishedVersion:"Published Version",Status:"Status",Published:"Published",Draft:"Draft",Properties:"{{name}} Properties"}},"nl-NL":{default:{Name:"Naam",Untitled:"Untitled",Id:"Id",Version:"Laatste Versie",PublishedVersion:"Gepubliceerde Versie",Status:"Status",Published:"Published",Draft:"Draft",Properties:"{{name}} Properties"}}},d=class{constructor(s){e(this,s),this.expandButtonPosition=1,this.toggle=()=>{this.expanded?l(this.el).then((()=>this.expanded=!1)):(this.expanded=!0,t(this.el))}}async workflowDefinitionChangedHandler(e,s){e.version===s.version&&e.isPublished===s.isPublished&&e.isLatest===s.isLatest||await this.loadPublishedVersion()}async componentWillLoad(){this.i18next=await i(this.culture,n),await this.loadPublishedVersion()}render(){const e=(e,s)=>this.i18next.t(e,s),{workflowBlueprint:l,expanded:t,expandButtonPosition:i}=this,r=l.name||this.i18next.t("Untitled"),{isPublished:o}=l;return s(a,null,s("button",{type:"button",onClick:this.toggle,class:(t?"hidden":1==i?"elsa-right-12":"elsa-right-28")+" workflow-settings-button elsa-fixed elsa-top-20 elsa-inline-flex elsa-items-center elsa-p-2 elsa-rounded-full elsa-border elsa-border-transparent elsa-bg-white shadow elsa-text-gray-400 hover:elsa-text-blue-500 focus:elsa-text-blue-500 hover:elsa-ring-2 hover:elsa-ring-offset-2 hover:elsa-ring-blue-500 focus:elsa-outline-none focus:elsa-ring-2 focus:elsa-ring-offset-2 focus:elsa-ring-blue-500 elsa-z-10"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"elsa-h-8 elsa-w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"}))),s("section",{class:(this.expanded?"":"hidden")+" elsa-fixed elsa-top-4 elsa-right-0 elsa-bottom-0 elsa-overflow-hidden","aria-labelledby":"slide-over-title",role:"dialog","aria-modal":"true"},s("div",{class:"elsa-absolute elsa-inset-0 elsa-overflow-hidden"},s("div",{class:"elsa-absolute elsa-inset-0","aria-hidden":"true"}),s("div",{class:"elsa-fixed elsa-inset-y-0 elsa-top-16 elsa-right-0 max-elsa-w-full elsa-flex"},s("div",{ref:e=>this.el=e,"data-transition-enter":"elsa-transform elsa-transition elsa-ease-in-out elsa-duration-300 sm:elsa-duration-700","data-transition-enter-start":"elsa-translate-x-full","data-transition-enter-end":"elsa-translate-x-0","data-transition-leave":"elsa-transform elsa-transition elsa-ease-in-out elsa-duration-300 sm:elsa-duration-700","data-transition-leave-start":"elsa-translate-x-0","data-transition-leave-end":"elsa-translate-x-full",class:"elsa-w-screen elsa-max-w-lg elsa-h-full"},s("button",{type:"button",onClick:this.toggle,class:"workflow-settings-button elsa-absolute elsa-top-4 elsa-left-2 elsa-inline-flex elsa-items-center elsa-p-2 elsa-rounded-full elsa-border elsa-border-transparent elsa-bg-white shadow elsa-text-gray-400 hover:elsa-text-blue-500 focus:elsa-text-blue-500 hover:elsa-ring-2 hover:elsa-ring-offset-2 hover:elsa-ring-blue-500 focus:elsa-outline-none focus:elsa-ring-2 focus:elsa-ring-offset-2 focus:elsa-ring-blue-500 elsa-z-10"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"elsa-h-8 elsa-w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 5l7 7-7 7M5 5l7 7-7 7"}))),s("div",{class:"elsa-h-full elsa-flex elsa-flex-col elsa-py-6 elsa-bg-white elsa-shadow-xl elsa-overflow-y-scroll elsa-bg-white"},s("div",{class:"elsa-h-full"},s("div",{class:"elsa-mt-16 elsa-p-6"},s("div",{class:"elsa-font-medium elsa-leading-8 elsa-overflow-hidden"},s("p",{class:"elsa-overflow-ellipsis"},e("Properties",{name:l.displayName||r}))),s("div",null,s("dl",{class:"elsa-mt-2 elsa-border-t elsa-border-b elsa-border-gray-200 elsa-divide-y elsa-divide-gray-200"},s("div",{class:"elsa-py-3 elsa-flex elsa-justify-between elsa-text-sm elsa-font-medium"},s("dt",{class:"elsa-text-gray-500"},e("Name")),s("dd",{class:"elsa-text-gray-900"},r)),s("div",{class:"elsa-py-3 elsa-flex elsa-justify-between elsa-text-sm elsa-font-medium"},s("dt",{class:"elsa-text-gray-500"},e("Id")),s("dd",{class:"elsa-text-gray-900 elsa-break-all"},l.id||"-")),s("div",{class:"elsa-py-3 elsa-flex elsa-justify-between elsa-text-sm elsa-font-medium"},s("dt",{class:"elsa-text-gray-500"},e("Version")),s("dd",{class:"elsa-text-gray-900"},l.version)),s("div",{class:"elsa-py-3 elsa-flex elsa-justify-between elsa-text-sm elsa-font-medium"},s("dt",{class:"elsa-text-gray-500"},e("PublishedVersion")),s("dd",{class:"elsa-text-gray-900"},this.publishedVersion||"-")),s("div",{class:"elsa-py-3 elsa-flex elsa-justify-between elsa-text-sm elsa-font-medium"},s("dt",{class:"elsa-text-gray-500"},e("Status")),s("dd",{class:o?"elsa-text-green-600":"elsa-text-yellow-700"},e(o?"Published":"Draft")))))))))))))}createClient(){return r(this.serverUrl)}async loadPublishedVersion(){const e=await this.createClient(),{workflowBlueprint:s}=this,a=await e.workflowDefinitionsApi.getMany([s.id],{isPublished:!0}),l=s.isPublished?s:a.find((e=>e.definitionId==s.id));l&&(this.publishedVersion=l.version)}static get watchers(){return{workflowBlueprint:["workflowDefinitionChangedHandler"]}}};o.injectProps(d,["serverUrl","culture"]);const u=class{constructor(s){e(this,s)}async workflowIdChangedHandler(e){await this.loadWorkflowBlueprint(e)}render(){return s("elsa-workflow-blueprint-properties-panel",{workflowBlueprint:this.workflowBlueprint})}async componentWillLoad(){await this.loadWorkflowBlueprint()}createClient(){return r(this.serverUrl)}async loadWorkflowBlueprint(e=this.workflowId){const s=await this.createClient();this.workflowBlueprint=await s.workflowRegistryApi.get(e,{isLatest:!0})}static get watchers(){return{workflowId:["workflowIdChangedHandler"]}}};o.injectProps(u,["serverUrl"]);export{d as elsa_workflow_blueprint_properties_panel,u as elsa_workflow_blueprint_side_panel}